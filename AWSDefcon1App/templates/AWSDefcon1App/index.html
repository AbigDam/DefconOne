{% extends "AWSDefcon1App/layout.html" %}

{% block body %}

    <h2 style = "text-align: center;" >Games</h2>
  </div>
  <div class="game-container" style="text-align: center;"> 
    {% for game in games %}
      <div class="game">
        <hr>
        <div class="info-bubble"> <h3><a class="game-link button" href="{% url 'map' game_id=game.id %}">Enter Game</a> <span class="info-icon">ðŸ›ˆ</span> </h3>  <span class="tooltip-text">This will take you to the games map, make sure you join the game below before entering</span> </div> 
        <div class="game-info">
          <p class="boxed-list-instance"> UK: 
            {% if game.player1.username == request.user.username %}
              <span class="user-text">{{ game.player1.username }}</span>
            {% elif game.player1.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player1.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player1.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=1 %}">Join as Player 1</a>
            {% else %}
              {{ game.player1.username }}
            {% endif %}
          </p>
          <p class="boxed-list-instance">USA: 
            {% if game.player2.username == request.user.username %}
              <span class="user-text">{{ game.player2.username }}</span>
            {% elif game.player2.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player2.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player2.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=2 %}">Join as Player 2</a>
            {% else %}
              {{ game.player2.username }}
            {% endif %}
          </p>
  
          <p class="boxed-list-instance">France: 
            {% if game.player3.username == request.user.username %}
              <span class="user-text">{{ game.player3.username }}</span>
            {% elif game.player3.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player3.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player3.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=3 %}">Join as Player 3</a>
            {% else %}
              {{ game.player3.username }}
            {% endif %}
          </p>
  
          <p class="boxed-list-instance">USSR: 
            {% if game.player4.username == request.user.username %}
              <span class="user-text">{{ game.player4.username }}</span>
            {% elif game.player4.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player4.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player4.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=4 %}">Join as Player 4</a>
            {% else %}
              {{ game.player4.username }}
            {% endif %}
          </p>
  
          <p class="boxed-list-instance">Germany: 
            {% if game.player5.username == request.user.username %}
              <span class="user-text">{{ game.player5.username }}</span>
            {% elif game.player5.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player5.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player5.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=5 %}">Join as Player 5</a>
            {% else %}
              {{ game.player5.username }}
            {% endif %}
          </p>
  
          <p class="boxed-list-instance">Italy: 
            {% if game.player6.username == request.user.username %}
              <span class="user-text">{{ game.player6.username }}</span>
            {% elif game.player6.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player6.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player6.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=6 %}">Join as Player 6</a>
            {% else %}
              {{ game.player6.username }}
            {% endif %}
          </p>
  
          <p class="boxed-list-instance">Japan: 
            {% if game.player7.username == request.user.username %}
              <span class="user-text">{{ game.player7.username }}</span>
            {% elif game.player7.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player7.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player7.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=7 %}">Join as Player 7</a>
            {% else %}
              {{ game.player7.username }}
            {% endif %}
          </p>
  
          <p class="boxed-list-instance">Cuba: 
            {% if game.player0.username == request.user.username %}
              <span class="user-text">{{ game.player0.username }}</span>
            {% elif game.player0.username == 'loser' %}
              <span class="defeated-text">Defeated</span>
            {% elif game.player0.username == 'closed' %}
              <span class="bot-text">John Defcon(Bot)</span>
            {% elif game.player0.username == 'empty' %}
              <a class="player-link button" href="{% url 'joingame' game_id=game.id player_number=0 %}">Join as Player 8</a>
            {% else %}
              {{ game.player0.username }}
            {% endif %}
          </p>
        </div>
        <hr>
      </div>
    {% endfor %}
</div>

<h2 style="text-align: center;">Leaderboard</h2>
        <style>
            .user-text {
              color: green;
              font-weight: bold;
            }
            .game-link, .player-link {
            display: inline-block;
            padding: 0.6px 5px; 
            margin: 5px;
            background-color: #002246;
            color: white;
            text-decoration: none; /* Remove underline by default */
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s ease, color 0.3s ease;
            
          }

          .join-link{
            display: inline-block;
            padding: 0.6px 5px; 
            margin: 5px;
            background-color: #d4b70e;
            color: white;
            text-decoration: none; /* Remove underline by default */
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s ease, color 0.3s ease;
            text-decoration: none; /* Ensure no underline on hover */

          }

          .join-link:hover{
            background-color: #b49b0c; /* Darker blue on hover */
            color: white; /* Keep text color white */
            text-decoration: none; /* Ensure no underline on hover */
          }
          .defeated-text {
            color: red;
            font-weight: bold;
          }

          .bot-text {
            color: yellow;
            font-weight: bold;
          }


          .game-link:hover, .player-link:hover {
            background-color: #00356e; /* Darker blue on hover */
            color: white; /* Keep text color white */
            text-decoration: none; /* Ensure no underline on hover */
          }

          .game-info {
            border: 1px solid #ccc;
            padding: 15px;
            margin-top: 10px;
            text-align: left;
          }

          .recent-news {
            margin-top: 20px;
            padding: 20px;
            border: 2px solid #ccc;
            background-color: #f9f9f9;
            text-align: center;
          }

          .recent-news h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
          }

          .button {
            cursor: pointer;
          }

        .leaderboard {
            width: 300px;
            margin: 0 auto;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            text-align: center;
            background-color: #000000;
        }
        .leaderboard ol {
            padding-left: 0;
            list-style: decimal inside;
        }
        .leaderboard li {
            margin: 10px 0;
            font-size: 18px;
        }

    </style>

<div class="leaderboard">
  <ol>
      {% for user in leaderboard|slice:":10" %}
      <li>{{ user.username }} || {{ user.wins }}</li>
      {% endfor %}
  </ol>
</div>


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8958763949859084"
     crossorigin="anonymous"></script>
<!-- Defcon1Add -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8958763949859084"
     data-ad-slot="7217028237"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
{% endblock %}
